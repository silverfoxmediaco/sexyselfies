/* AppLayout.css - Clean Layout System (No Sidebar) */

:root {
  --header-height: 60px;
  --header-height-mobile: 56px;
  --bottom-nav-height: 60px;
  --footer-height: 300px;
  --safe-area-top: env(safe-area-inset-top, 0);
  --safe-area-bottom: env(safe-area-inset-bottom, 0);
  --safe-area-left: env(safe-area-inset-left, 0);
  --safe-area-right: env(safe-area-inset-right, 0);
  --content-max-width: 1400px;
  --content-padding: 20px;
}

/* Reset */
* {
  box-sizing: border-box;
}

/* Base Layout */
.app-layout {
  min-height: 100vh;
  background: #0A0A0A;
  position: relative;
  width: 100%;
  overflow-x: hidden;
}

/* Main Content Base */
.app-content {
  min-height: 100vh;
  width: 100%;
  position: relative;
  overflow-x: hidden;
  background: #0A0A0A;
}

/* ===========================
   MOBILE LAYOUT
   =========================== */
.mobile-layout {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

.mobile-layout .mobile-content {
  flex: 1;
  width: 100%;
  padding: var(--content-padding);
  padding-top: calc(var(--content-padding) + var(--safe-area-top));
  padding-bottom: calc(var(--content-padding) + var(--safe-area-bottom));
  min-height: 100vh;
}

/* Mobile with Header */
.mobile-layout .mobile-content.with-header {
  padding-top: calc(var(--header-height-mobile) + var(--content-padding) + var(--safe-area-top));
}

/* Mobile with Bottom Nav */
.mobile-layout .mobile-content.with-bottom-nav {
  padding-bottom: calc(var(--bottom-nav-height) + var(--content-padding) + var(--safe-area-bottom));
}

/* Mobile Full Screen */
.mobile-layout .mobile-content.full-screen {
  padding: 0;
  min-height: 100vh;
}

.mobile-layout .mobile-content.full-screen.with-header {
  padding-top: var(--header-height-mobile);
}

.mobile-layout .mobile-content.full-screen.with-bottom-nav {
  padding-bottom: calc(var(--bottom-nav-height) + var(--safe-area-bottom));
}

/* ===========================
   DESKTOP LAYOUT
   =========================== */
.desktop-layout {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

.desktop-layout .desktop-content {
  flex: 1;
  width: 100%;
  padding: var(--content-padding);
  min-height: 100vh;
}

/* Desktop with Header */
.desktop-layout .desktop-content.with-header {
  padding-top: calc(var(--header-height) + var(--content-padding));
}

/* Desktop with Bottom Nav - NEW */
.desktop-layout .desktop-content.with-bottom-nav {
  padding-bottom: calc(var(--bottom-nav-height) + var(--content-padding));
}

/* Desktop with Footer */
.desktop-layout .desktop-content.with-footer {
  min-height: auto;
  padding-bottom: var(--content-padding);
}

/* Desktop Full Screen */
.desktop-layout .desktop-content.full-screen {
  padding: 0;
  min-height: 100vh;
}

.desktop-layout .desktop-content.full-screen.with-header {
  padding-top: var(--header-height);
}

/* Desktop Full Screen with Bottom Nav - NEW */
.desktop-layout .desktop-content.full-screen.with-bottom-nav {
  padding-bottom: var(--bottom-nav-height);
}

/* ===========================
   ADMIN LAYOUT
   =========================== */
.admin-content {
  background: #0F0F0F;
  padding: 0 !important; /* Admin pages handle their own padding */
}

/* ===========================
   SPECIAL PAGE LAYOUTS
   =========================== */

/* Swipe/Discovery Pages */
.swipe-container,
.discovery-container,
.browse-container {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  background: #000;
}

/* Adjust for mobile bottom nav */
.mobile-layout .swipe-container,
.mobile-layout .discovery-container,
.mobile-layout .browse-container {
  bottom: calc(var(--bottom-nav-height) + var(--safe-area-bottom));
}

/* Adjust for desktop bottom nav - NEW */
.desktop-layout .swipe-container.with-bottom-nav,
.desktop-layout .discovery-container.with-bottom-nav,
.desktop-layout .browse-container.with-bottom-nav {
  bottom: var(--bottom-nav-height);
}

/* Dashboard Grids */
.dashboard-grid {
  display: grid;
  gap: 20px;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  padding: var(--content-padding);
}

/* Creator Dashboard */
.creator-dashboard {
  display: flex;
  flex-direction: column;
  gap: 20px;
  padding: var(--content-padding);
}

/* Member Browse Grid */
.member-browse-container {
  display: grid;
  gap: 16px;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  padding: var(--content-padding);
}

/* ===========================
   RESPONSIVE ADJUSTMENTS
   =========================== */

/* Tablet (768px - 1023px) */
@media (min-width: 768px) and (max-width: 1023px) {
  :root {
    --content-padding: 24px;
  }
  
  .member-browse-container {
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  }
  
  /* Tablet with bottom nav - NEW */
  .desktop-layout .desktop-content.with-bottom-nav {
    padding-bottom: calc(var(--bottom-nav-height) + var(--content-padding) + 10px);
  }
}

/* Desktop (1024px+) - UPDATED WITH BETTER SPACING */
@media (min-width: 1024px) {
  /* Ensure bottom nav appears correctly on desktop */
  .desktop-layout .bottom-navigation {
    display: flex;
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 1000;
    background: rgba(18, 18, 18, 0.98);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
  }
  
  /* IMPROVED SPACING - Spread icons out more on desktop */
  .desktop-layout .bottom-navigation .nav-container {
    max-width: 600px; /* Reduced from 800px to bring icons closer to center but not too tight */
    margin: 0 auto;
    padding: 0 40px; /* Add horizontal padding for better spacing */
  }
  
  /* Make nav items spread evenly with more space */
  .desktop-layout .bottom-navigation .nav-item {
    flex: 1;
    max-width: 100px; /* Limit individual item width */
    margin: 0 30px; /* Add horizontal margin between items */
  }
  
  /* Adjust desktop content padding when bottom nav is present */
  .desktop-layout .desktop-content.with-bottom-nav {
    padding-bottom: calc(var(--bottom-nav-height) + var(--content-padding) + 20px);
  }
}

/* Large Desktop (1400px+) */
@media (min-width: 1400px) {
  :root {
    --content-padding: 32px;
  }
  
  /* Center content on wide screens */
  .desktop-content:not(.full-screen):not(.admin-content) {
    max-width: var(--content-max-width);
    margin-left: auto;
    margin-right: auto;
  }
  
  /* Even better spacing on larger screens */
  .desktop-layout .bottom-navigation .nav-container {
    max-width: 650px;
    padding: 0 60px;
  }
}

/* ===========================
   UTILITIES
   =========================== */

/* Hide scrollbar */
.no-scrollbar {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.no-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Prevent body scroll */
.body-no-scroll {
  overflow: hidden;
  position: fixed;
  width: 100%;
  height: 100%;
}

/* Safe area utilities */
.safe-top {
  padding-top: var(--safe-area-top);
}

.safe-bottom {
  padding-bottom: var(--safe-area-bottom);
}

.safe-left {
  padding-left: var(--safe-area-left);
}

.safe-right {
  padding-right: var(--safe-area-right);
}

/* ===========================
   iOS FIXES
   =========================== */

/* Fix iOS viewport */
@supports (height: 100dvh) {
  .app-layout {
    min-height: 100dvh;
  }
  
  .app-content {
    min-height: 100dvh;
  }
}

/* Fix iOS rubber band scrolling */
@supports (-webkit-touch-callout: none) {
  .mobile-layout {
    position: relative; /* Changed from fixed to allow normal scrolling */
  }
  
  .mobile-layout .mobile-content {
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
}

/* ===========================
   TRANSITIONS
   =========================== */

@media (prefers-reduced-motion: no-preference) {
  .app-content {
    transition: padding 0.3s ease;
  }
}